(this.webpackJsonprevision=this.webpackJsonprevision||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),r=n.n(a),s=n(6),i=n(18),l=n.n(i),o=n(23),u=n(25),j=n(16),p=n(8),b=n(21),d=n.n(b),h=(n(94),r.a.createContext()),x=function(){var e=Object(p.e)(),t=Object(a.useRef)(),n=Object(a.useRef)(),r=Object(a.useContext)(h);Object(a.useEffect)((function(){r.state||(r.setState(!1),e.push("/"))}),[]);var s=function(){var c=Object(o.a)(l.a.mark((function c(a){var s;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a.preventDefault(),c.prev=1,c.next=4,d.a.post("https://admin-tn.herokuapp.com/api/user/login",{email:t.current.value,password:n.current.value});case 4:s=c.sent,localStorage.setItem("token",s.data.token),r.setState(!0),e.push("/home"),c.next=14;break;case 10:c.prev=10,c.t0=c.catch(1),console.log(c.t0.message),alert("Informations Invalid");case 14:case"end":return c.stop()}}),c,null,[[1,10]])})));return function(e){return c.apply(this,arguments)}}();return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"login",children:Object(c.jsxs)("form",{onSubmit:function(e){return s(e)},children:[Object(c.jsx)("input",{ref:t,className:"login__input",type:"email",placeholder:"Email",required:!0}),Object(c.jsx)("input",{ref:n,className:"login__input",type:"password",placeholder:"Mot de passe",required:!0}),Object(c.jsx)("button",{className:"login__button",children:"Login"})]})})})},m=n(133),O=n(136),f=n(138),v=n(137),g=function(){var e=r.a.useState(null),t=Object(u.a)(e,2),n=t[0],s=t[1],i=Object(p.e)(),l=Object(a.useContext)(h);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(m.a,{className:"navbar__menu","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},children:Object(c.jsx)(v.a,{})}),Object(c.jsx)(O.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){s(null)},children:Object(c.jsx)(j.b,{className:"Link",to:"/",children:Object(c.jsx)(f.a,{onClick:function(){s(null),localStorage.clear(),l.setState(!1),i.push("/")},children:"Deconnexion"})})})]})},k=(n(100),function(){return Object(c.jsxs)("div",{className:"navbar",children:[Object(c.jsx)("div",{className:"navbar__leftside",children:Object(c.jsx)(j.b,{className:"Link",to:"/home",children:Object(c.jsxs)("h5",{className:"navbar__brand",children:[Object(c.jsx)("span",{children:"Admin"}),"box"]})})}),Object(c.jsx)("div",{className:"navbar__rightside",children:Object(c.jsx)(g,{})})]})}),N=n(65),_=n.n(N),S=n(66),y=n.n(S),w=(n(101),function(){Object(p.e)();var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1];Object(a.useContext)(h);function s(){return(s=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\xeates-vous s\xfbr de vouloir supprimer cet utilisateur?")){e.next=10;break}return e.prev=1,e.next=4,d.a.post("https://admin-tn.herokuapp.com/api/user/remove",{userId:t});case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){d.a.get("https://admin-tn.herokuapp.com/api/user/all").then((function(e){return r(e.data)})).catch((function(e){return console.log(e)}))})),Object(c.jsxs)("div",{children:[Object(c.jsx)(k,{}),Object(c.jsx)("div",{className:"box-table",children:Object(c.jsxs)("table",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Nom"}),Object(c.jsx)("th",{children:"Specialit\xe9"}),Object(c.jsx)("th",{children:"Etat"}),Object(c.jsx)("th",{children:"code de verification"}),Object(c.jsx)("th",{children:"Actions"})]}),n.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.fullName}),Object(c.jsx)("td",{children:e.spec}),!0===e.isVerified?Object(c.jsx)("td",{children:"Verifi\xe9"}):Object(c.jsx)("td",{children:" Non Verifi\xe9"}),Object(c.jsxs)("td",{children:[e.verifCode," "]}),Object(c.jsxs)("td",{className:"actions",children:[Object(c.jsx)(m.a,{onClick:function(){return function(e){return s.apply(this,arguments)}(e._id)},className:"btns","aria-label":"delete",children:Object(c.jsx)(_.a,{color:"secondary",fontSize:"small"})}),2===e.role?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(j.b,{to:"details/".concat(e._id),children:Object(c.jsx)(m.a,{className:"btns","aria-label":"delete",children:Object(c.jsx)(y.a,{})})})}):""]})]},e._id)}))]})})]})}),C=(n(103),function(e){var t=e.match,n=Object(p.e)(),r=Object(a.useState)({}),s=Object(u.a)(r,2),i=s[0],j=s[1];function b(){return(b=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d.a.post("https://admin-tn.herokuapp.com/api/user/update",{userId:i._id});case 4:e.sent,n.push("/home"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){d.a.get("https://admin-tn.herokuapp.com/api/user/".concat(t.params.id)).then((function(e){return j(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(k,{}),Object(c.jsx)("div",{className:"request",children:Object(c.jsxs)("form",{onSubmit:function(e){return function(e){return b.apply(this,arguments)}(e)},children:[Object(c.jsx)("label",{className:"label__form",children:"Num\xe9ro de telephone"}),Object(c.jsx)("input",{value:i.phone,maxLength:"8",className:"input",type:"number",placeholder:"Num\xe9ro de telephone"}),Object(c.jsx)("label",{className:"label__form",children:"Matricule Fiscale"}),Object(c.jsx)("input",{value:i.fiscale,className:"input",type:"text",placeholder:"matricule fiscale"}),Object(c.jsx)("input",{value:i.spec,className:"input",type:"text",placeholder:"sp\xe9cialit\xe9"}),Object(c.jsx)("input",{value:i.region,className:"input",type:"text",placeholder:"Region"}),Object(c.jsx)("textarea",{value:i.description,className:"textarea",type:"text",placeholder:"\r ",required:!0}),Object(c.jsx)("button",{className:"service__button",children:"Valider"})]})}),")"]})});var I=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1];function s(){return(s=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.prev=1,e.next=4,d.a.get("https://admin-tn.herokuapp.com/api/user/check",null,{headers:{"header-token":t}});case 4:!0===e.sent.data&&r(!0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){null===localStorage.getItem("token")&&localStorage.setItem("token","")}),[]),function(){s.apply(this,arguments)}(),Object(c.jsx)(h.Provider,{value:{state:n,setState:r},children:Object(c.jsxs)(j.a,{children:[Object(c.jsx)(p.a,{exact:!0,path:"/",component:x}),Object(c.jsx)(p.a,{exact:!0,path:"/home",component:w}),Object(c.jsx)(p.a,{exact:!0,path:"/details/:id",component:C})]})})};Object(s.render)(Object(c.jsx)(I,{}),document.getElementById("root"))},94:function(e,t,n){}},[[104,1,2]]]);
//# sourceMappingURL=main.ab7d8cbe.chunk.js.map