{"version":3,"sources":["AuthContext.js","Login.js","Menu.js","Navbar.js","Home.js","Details.js","App.js","index.js"],"names":["AuthContext","React","createContext","Login","history","useHistory","userEmail","useRef","userPass","userAuth","useContext","useEffect","state","setState","push","event","a","preventDefault","axios","post","current","value","response","localStorage","setItem","data","token","console","log","message","alert","className","onSubmit","e","ref","type","placeholder","required","MenuU","useState","anchorEl","setAnchorEl","IconButton","aria-controls","aria-haspopup","onClick","currentTarget","Avatar","Menu","id","keepMounted","open","Boolean","onClose","to","MenuItem","clear","Navbar","Home","users","setUsers","window","confirm","get","then","res","catch","err","map","item","fullName","spec","isVerified","verifCode","remove","_id","aria-label","color","fontSize","role","Details","match","user","setUser","params","up","phone","maxLength","fiscale","region","description","App","getItem","headers","checkAuth","Provider","exact","path","component","render","document","getElementById"],"mappings":"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","file":"static/js/main.ab7d8cbe.chunk.js","sourcesContent":["import React from'react';\r\nconst AuthContext=React.createContext()\r\nexport default AuthContext;","import CircularProgress from '@material-ui/core/CircularProgress';\r\nimport React, { useEffect, useContext, useRef, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport './login.css'\r\nimport AuthContext from './AuthContext'\r\n\r\n\r\n\r\n  const Login=()=>{\r\n    const history = useHistory()\r\n    const userEmail = useRef()\r\n    const userPass = useRef()\r\n    const userAuth = useContext(AuthContext)\r\n    useEffect(() => {\r\n        if (!userAuth.state) {\r\n            userAuth.setState(false)\r\n            history.push('/')\r\n        }\r\n    },[])\r\n    const Login = async (event) => {\r\n        event.preventDefault()\r\n        \r\n        try {\r\n            let response = await axios.post('https://admin-tn.herokuapp.com/api/user/login',\r\n                {\r\n                    \"email\": userEmail.current.value,\r\n                    \"password\": userPass.current.value\r\n                })\r\n\r\n            localStorage.setItem('token', response.data.token)\r\n            userAuth.setState(true)\r\n            history.push('/home')\r\n        } catch (error) {\r\n          \r\n            console.log(error.message)\r\n            alert('Informations Invalid')\r\n\r\n\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            <div className=\"login\">\r\n                <form onSubmit={e=>Login(e)}>\r\n                    <input  ref={userEmail} className=\"login__input\" type=\"email\" placeholder=\"Email\" required />\r\n                    <input  ref={userPass} className=\"login__input\" type=\"password\" placeholder=\"Mot de passe\" required />\r\n                    <button className=\"login__button\">Login</button>\r\n                </form>\r\n            </div>\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React,{useContext} from 'react'\r\nimport { IconButton } from '@material-ui/core'\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { Link } from 'react-router-dom'\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport {useHistory} from 'react-router-dom'\r\nimport AuthContext from './AuthContext'\r\n\r\n\r\nconst MenuU = () => {\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const history=useHistory()\r\n    const userAuth=useContext(AuthContext)\r\n\r\n    const logout=()=>{\r\n        setAnchorEl(null);\r\n        localStorage.clear()\r\n        userAuth.setState(false)\r\n        history.push('/')\r\n    }\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <IconButton className=\"navbar__menu\" aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\r\n                <Avatar  />\r\n            </IconButton>\r\n            <Menu\r\n                id=\"simple-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}         >\r\n                <Link className=\"Link\" to=\"/\"><MenuItem onClick={logout}>Deconnexion</MenuItem></Link>\r\n            </Menu>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default MenuU","import React, { useState, useEffect, useContext } from 'react'\r\nimport MenuU from './Menu'\r\nimport { Link } from 'react-router-dom'\r\nimport './navbar.css'\r\n\r\n\r\nconst Navbar = () => {\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"navbar\">\r\n            <div className=\"navbar__leftside\">\r\n                <Link className=\"Link\" to='/home'><h5 className=\"navbar__brand\"><span>Admin</span>box</h5></Link>\r\n            </div>\r\n            <div className=\"navbar__rightside\">\r\n               <MenuU/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n","import React, { useEffect, useState,useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport Navbar from './Navbar'\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { Link } from 'react-router-dom'\r\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn';\r\nimport './home.css'\r\nimport axios from 'axios'\r\nimport AuthContext from './AuthContext'\r\n\r\nconst Home = () => {\r\n    const history=useHistory()\r\n    const [users, setUsers] = useState([])\r\n    const userAuth = useContext(AuthContext)\r\n    useEffect(() => {\r\n        const getUsers=()=>{\r\n            axios\r\n            .get('https://admin-tn.herokuapp.com/api/user/all')\r\n            .then(res=>setUsers(res.data))\r\n            .catch(err=>console.log(err))\r\n        }\r\n       \r\n         getUsers()\r\n       \r\n    })\r\n     async function remove(id) {\r\n\r\n        if( window.confirm('êtes-vous sûr de vouloir supprimer cet utilisateur?')) {\r\n         try {\r\n              let result= await axios\r\n              .post('https://admin-tn.herokuapp.com/api/user/remove',{\"userId\":id})\r\n                   \r\n         } catch (error) {\r\n              console.log(error)\r\n         }\r\n     } }\r\n    return (\r\n        <div>\r\n            <Navbar />\r\n            <div className=\"box-table\">\r\n                <table>\r\n                    <tr>\r\n                        <th>Nom</th>\r\n                        <th>Specialité</th>\r\n                        <th>Etat</th>\r\n                        <th>code de verification</th>\r\n                        <th>Actions</th>\r\n                    </tr>\r\n                      \r\n                     {users.map(function(item) {\r\n                         return(\r\n                       \r\n                            <tr key={item._id}>\r\n                                <td>{item.fullName}</td>\r\n                                  <td>{item.spec}</td>\r\n                                   {item.isVerified === true ? <td>Verifié</td>:<td> Non Verifié</td> } \r\n                                  <td>{item.verifCode} </td>\r\n                                <td className=\"actions\">\r\n                                    <IconButton onClick={()=>remove(item._id)}  className=\"btns\" aria-label=\"delete\">\r\n                                        <DeleteIcon color=\"secondary\" fontSize=\"small\" />\r\n                                    </IconButton>\r\n                                    {item.role===2 ?<>\r\n                                        <Link  to={`details/${item._id}`}>\r\n                                        <IconButton className=\"btns\" aria-label=\"delete\">\r\n                                            <AssignmentTurnedInIcon />\r\n                                        </IconButton>\r\n                                    </Link>\r\n                                    </>:''}\r\n                                   \r\n                                </td>\r\n                            </tr>\r\n                        )\r\n                    })} \r\n\r\n\r\n                </table>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React, { useState, useEffect, useRef, useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport Navbar from './Navbar'\r\nimport axios from 'axios'\r\nimport './request.css'\r\n\r\nconst Details = ({ match }) => {\r\n    const history=useHistory()\r\n    const [user, setUser] = useState({})\r\n    useEffect(() => {\r\n\r\n        const getUserD = () => {\r\n            axios\r\n                .get(`https://admin-tn.herokuapp.com/api/user/${match.params.id}`)\r\n                .then(res => setUser(res.data))\r\n                .catch(err => console.log(err))\r\n        }\r\n        getUserD()\r\n    }, [])\r\n\r\n    async function up(e) {\r\n         e.preventDefault()\r\n\r\n        try {\r\n            let result = await axios\r\n                .post('https://admin-tn.herokuapp.com/api/user/update', { \"userId\": user._id })\r\n                history.push('/home')\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Navbar />\r\n            <div className=\"request\">\r\n                <form onSubmit={(e) => up(e)}>\r\n                    <label className=\"label__form\">Numéro de telephone</label>\r\n                    <input value={user.phone} maxLength=\"8\" className=\"input\" type=\"number\" placeholder=\"Numéro de telephone\"  />\r\n                    <label className=\"label__form\">Matricule Fiscale</label>\r\n                    <input value={user.fiscale} className=\"input\" type=\"text\" placeholder=\"matricule fiscale\"  />\r\n                    <input value={user.spec} className=\"input\" type=\"text\" placeholder=\"spécialité\"  />\r\n                    <input value={user.region} className=\"input\" type=\"text\" placeholder=\"Region\"  />\r\n                    <textarea value={user.description} className=\"textarea\" type=\"text\" placeholder=\"\r\n                 \" required />\r\n                    <button  className=\"service__button\">Valider</button>\r\n                </form>\r\n            </div>)\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Details\r\n","import React, { useState, useEffect } from 'react'\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\r\nimport Login from '../src/Login'\r\nimport Home from '../src/Home'\r\nimport Details from './Details'\r\nimport axios from 'axios'\r\nimport AuthContext from './AuthContext'\r\n\r\n\r\nfunction App() {\r\n  const [state, setState] = useState(false)\r\n  useEffect(() => {\r\n    let token = localStorage.getItem('token')\r\n    if (token === null) { localStorage.setItem('token', '') }\r\n  }, [])\r\n  async function checkAuth() {\r\n    let token = localStorage.getItem('token')\r\n    try {\r\n      let result = await axios.get('https://admin-tn.herokuapp.com/api/user/check', null, {\r\n        headers: {\r\n          'header-token': token\r\n        }\r\n      })\r\n      if (result.data === true) { setState(true) }\r\n    } catch (error) {\r\n\r\n    }\r\n  }\r\n  checkAuth()\r\n\r\n  return (\r\n    <AuthContext.Provider value={{state,setState}}>\r\n      <Router>\r\n        <Route exact path=\"/\" component={Login} />\r\n        <Route exact path=\"/home\" component={Home} />\r\n        <Route exact path=\"/details/:id\" component={Details} />\r\n      </Router>\r\n    </AuthContext.Provider>\r\n\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport { render } from 'react-dom'\r\nimport App from './App'\r\n \r\n\r\n \r\nrender(<App />, document.getElementById('root'))"],"sourceRoot":""}